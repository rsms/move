window.move=function(){typeof window.global==="undefined"&&(window.global=window);var modules={},require=function require(a){if(++require.depth>20)throw new Error("Recursive module dependencies");a=a.replace(/^[\/.]+/g,"");var b=modules[a];if(!b)throw new Error('No module with id "'+a+'"');if(b.block){var c=b.block;b.block=null,c(b.exports,require,b)}require.depth--;return b.exports};require.depth=0,modules["ast-mutators"]=module={id:"ast-mutators",exports:{},block:function(a,b,c,d,e){var f=b("./parser"),g=b("./process"),h=b("./util").array_to_hash;a.add_implicit_returns=function i(a){var b=g.ast_walker(),c=g.MAP,d=function(a){if(!a)return a;var b=a[0],c;if(b==="stat")a[0]="return";else{if(b==="defun"){a[0]="function";return["return",a]}if(b==="if")for(c=2;c<a.length;++c)a[c]=d(a[c]);else if(b==="block"){var e=a[1];if(e)for(c=0;c<e.length;++c)e[c]=d(e[c])}}return a},e=function e(a,e,f,g){f.length&&(f[f.length-1]=d(f[f.length-1]));return[this[0],a,e.slice(),c(f,b.walk),g]},f=b.with_walkers({defun:e,"function":e},function(){return b.walk(a)});return f},a.first_time_var_delc=function j(a,b){function m(a,b,e,f){return[this[0],l(a),b,k(function(){d(b,l);return d(e,c.walk)}),f]}function l(a){return i.define(a)}function k(a){i=new e(i),i.vars=[];var b=i.body=a();if(i.vars.length){var c=b[0]==="toplevel"?b[1]:b,f=["var",d(i.vars,function(a){return[a]})];c.splice(0,0,f)}i=i.parent;return b}var c=g.ast_walker(),d=g.MAP,e=g.Scope,i=null,j=f.slice;b&&(i=new e,i.names=h(b));return k(function(){var b=c.with_walkers({defun:m,"function":m,"var":function(a){return[this[0],d(a,function(a){l(a[0]);var b=[a[0]];a.length>1&&(b[1]=c.walk(a[1]));return b})]},"import":function(a){d(a,function(a){l(a[0]),i.vars.push(a[0])})},"export":function(a){d(a,function(a){l(a[0]),i.vars.push(a[0])})},"const":function(a){d(a,function(a){l(a[0])})},assign:function(a,b,d){if(b[0]==="name"){var e=b[1],f=i.has(e);f||(i.vars.push(e),l(e))}return[this[0],a,c.walk(b),c.walk(d)]}},function(){return c.walk(a)});return b})};var k=/^[_\$a-z][_\$\w\d]*$/i;a.named_lambda_assignments=function l(a){var b=g.ast_walker(),c=g.MAP,d=b.with_walkers({"export":function(a){return[this[0],c(a,function(a){var c=[a[0]];a.length>1&&(a[1]&&a[1][0]==="function"&&!a[1][1]&&(a[1][1]=a[0]),c[1]=b.walk(a[1]));return c})]},assign:function(a,c,d){if(Array.isArray(d)&&d[0]==="function"&&!d[1])if(c[0]==="name")d[1]=c[1];else if(c[0]==="dot")d[1]=c[c.length-1];else if(c[0]==="sub"&&c[2][0]==="string"){var e=c[2][1];!f.KEYWORDS[e]&&!f.RESERVED_WORDS[e]&&k.test(e)&&(d[1]=e)}return[this[0],a,b.walk(c),b.walk(d)]}},function(){return b.walk(a)});return d},a.enforce_strict_eq_ops=function m(a){var b=g.ast_walker(),c=g.MAP;return b.with_walkers({binary:function(a,c,d){a==="=="?a="===":a==="!="&&(a="!==");return[this[0],a,b.walk(c),b.walk(d)]}},function(){return b.walk(a)})},a.enable_keyword_arguments=function n(a,b){var c=g.ast_walker(),d=g.MAP;typeof b!=="object"?b={}:!b.raw;var e=b.raw?"true":"_MoveKWArgsT";return c.with_walkers({"function":function(a,b,f,g){if(b.length){var h,i,j,k=["seq"],l=b[0],m=[null],n=["binary","&&",["binary","===",["unary-prefix","typeof",["name",l]],["string","object"]],["binary","===",["dot",["name",l],"__kw"],["name",e]]];k.push(["assign",!0,["dot",["name","arguments"],"keywords"],["name",l]]);for(h=b.length;--h!==-1;)i=b[h],j=g&&g[i],k.push(["assign",!0,["name",i],["dot",["name",l],i]]),j&&m.push(["if",["binary","===",["name",i],["name","undefined"]],["stat",["assign",!0,["name",i],j]]]);m[0]=["stat",["binary","&&",n,k]],f=m.concat(f)}return[this[0],a,b,d(f,c.walk),g]},call:function(a,b){if(b.length===1&&b[0][0]==="object"){var f,g=b[0][1],h=[];for(var i=g.length;--i!==-1;)f=g[i],f[0]==="__kw"&&f[1]&&f[1][1]==="__Move_KWArgs__"&&h.push(i);if(h.length){while(h.length>1)delete g[h.pop()];g[h.pop()]=["__kw",["name",e]]}}return[this[0],c.walk(a),d(b,c.walk)]}},function(){return c.walk(a)})}}},modules.cli=module={id:"cli",exports:{},block:function(a,b,c,d,e){(function(){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;c=__move.runtime,d=c._MoveKWArgsT,e=c.inspect,f=c.print,g=c.repeat,h=c.after,i=b("fs"),j=b("./optparse"),k="Usage: move [options] [<filename>]",l=[["-c","--compile","Compile to JavaScript"],["-e","--eval [CODE]","Compile and execute Move code from the command line"],["--ast","Parse (but don't compile) and output the AST"],["--version","Display version"],["-h","--help","Display help"]],m={},n=[],o=function o(a){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,a=a.die),console.error(new j.OptionParser(l,k)).help();if(a!==undefined)return process.exit(a)},a.main=p=function p(){q();if(m.help)return o();if(m.run){if(!n.length)return console.error("At least one file must to be specified");return n.forEach(function(a){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,a=a.filename);try{a=i.realpathSync(a)}catch(c){c.errno!==undefined&&(console.error(c.message),process.exit(1));throw c}return b(a)})}};return q=function q(){var a,b;a=new j.OptionParser(l,k),m=b=a.parse(process.argv.slice(2)),b.run=!b.compile&&!b.ast;return n=b.arguments}})()}},modules.es5_array=module={id:"es5_array",exports:{},block:function(a,b,c,d,e){Array.isArray||(Array.isArray=function f(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function g(a,b){var c,d=this.length;for(c=+b||0;c<d;++c)if(this[c]===a)return c;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function h(a,b){var c=Math.min(this.length,+b||0);for(;c!==-1;--c)if(this[c]===a)return c;return-1}),Array.prototype.filter||(Array.prototype.filter=function i(a,b){var c=[];for(var d=0;d<this.length;d++)a.call(b,this[d])&&c.push(this[d]);return c}),Array.prototype.forEach||(Array.prototype.forEach=function j(a,b){var c=this.length>>>0;for(var d=0;d<c;++d)d in this&&a.call(b,this[d],d,this)}),Array.prototype.every||(Array.prototype.every=function k(a,b){var c=this.length>>>0;for(var d=0;d<c;++d)if(d in this&&!a.call(b,this[d],d,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function l(a,b){var c=this.length>>>0;for(var d=0;d<c;++d)if(d in this&&a.call(b,this[d],d,this))return!0;return!1}),Array.prototype.map||(Array.prototype.map=function m(a,b){var c=this.length>>>0,d=Array(c);for(var e=0;e<c;++e)d[e]=a.call(b,this[e],e,this);return d}),Array.prototype.reduce||(Array.prototype.reduce=function n(a){var b=this.length>>>0,c=0,d;if(b===0&&arguments.length===1)throw new TypeError;if(arguments.length>=2)d=arguments[1];else do{if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError}while(!0);for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d}),Array.prototype.unshift||(Array.prototype.unshift=function(){this.reverse();var a=arguments.length;while(a--)this.push(arguments[a]);this.reverse();return this.length})}},modules.es5_date=module={id:"es5_date",exports:{},block:function(a,b,c,d,e){Date.now||(Date.now=function f(){return(new Date).getTime()}),Date.prototype.getTimezoneOffset||(Date.prototype.getTimezoneOffset=function g(){if(this._timezoneOffsetStd===undefined){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0),b=a.toGMTString(),c=new Date(b.substring(0,b.lastIndexOf(" ")-1));this._timezoneOffsetStd=(c-a)/6e4}return this._timezoneOffsetStd})}},modules.es5_json=module={id:"es5_json",exports:{},block:function(exports,require,module,__filename,__dirname){var JSON=global.JSON;if(typeof JSON!=="object"||typeof JSON.stringify!=="function"||typeof JSON.parse!=="function")JSON=global.JSON={},function(){function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i==="object"&&typeof i.toJSON==="function"&&(i=i.toJSON(a)),typeof rep==="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g;return e}if(rep&&typeof rep==="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d==="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g;return e}}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?"0"+a:a}"use strict",typeof Date.prototype.toJSON!=="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!=="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c==="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c==="string"&&(indent=c);rep=b;if(b&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw new Error("JSON.stringify");return str("",{"":a})}),typeof JSON.parse!=="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e==="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}()}},modules.es5_object=module={id:"es5_object",exports:{},block:function(a,b,c,d,e){var f=Array.prototype.slice.call;Object.create||(Object.create=function g(a,b){var c=function c(a){a&&Object.defineProperties(this,a)};c.prototype=a;return new c(b)}),Object.keys||(Object.keys=function h(a){var b=[];for(var c in a)b.push(c);return b}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function i(){return Object.keys.apply(this,f(arguments))}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function j(a,b){if(a.hasOwnProperty(b))return{configurable:!0,enumerable:!0,value:a[b],writable:!0}}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){return a in this}),Object.defineProperty||Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.defineProperty=function(a,b,c){if(typeof c==="object")if(c.hasOwnProperty("value")){!a.__lookupGetter__(b)&&!a.__lookupSetter__(b)&&(a[b]=c.value);if(c.hasOwnProperty("get")||c.hasOwnProperty("set"))throw new TypeError("Object doesn't support this action")}else typeof c.get==="function"&&a.__defineGetter__(b,c.get),typeof c.set==="function"&&a.__defineSetter__(b,c.set);return a}),!Object.defineProperties&&Object.defineProperty&&(Object.defineProperties=function(a,b){for(var c in b)Object.defineProperty(a,c,b[c])})}},modules.es5_string=module={id:"es5_string",exports:{},block:function(a,b,c,d,e){String.prototype.trim||(String.prototype.trim=function f(){return this.replace(/^(?:\s|\u00A0)+/,"").replace(/(?:\s|\u00A0)+$/,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function g(){return this.replace(/^(?:\s|\u00A0)+/,"")}),String.prototype.trimRight||(String.prototype.trimRight=function h(){return this.replace(/(?:\s|\u00A0)+$/,"")})}},modules.index=module={id:"index",exports:{},block:function(exports,require,module,__filename,__dirname){var fs;try{fs=require("fs")}catch(e){}var http;try{http=require("http")}catch(e){}var parser=require("./parser"),processor=require("./process"),astMutators=require("./ast-mutators");exports.compile=function compile(a,b){var c={source:null,filename:"?",globals:[],implicitReturns:!0,automaticVarDeclarations:!0,namedLambdas:!0,strictEqualityOperators:!0,keywordArguments:!0,mangleNames:!1,optimizationLevel:0,outputFormatting:{indent_level:2},detailedOutput:!1,strict:!0,raw:!1};typeof a==="object"&&(b=a,a=b.source);if(typeof b==="object")for(var d in b)c[d]=b[d];c.strictMode=!1,c.embedTokens=!1,c.raw||(a=wrapInRuntime(a,c));try{var e=parser.parse(a,c)}catch(f){if(f.name==="JS_Parse_Error"){f.name="SyntaxError";var g="";for(var h=0;h<f.col;++h)g+=" ";f.diagnostic=f.name+": "+f.message+"\n"+c.filename+":"+f.line+":"+f.col+"\n"+a.split(/[\r\n]/)[f.line]+"\n"+g+"â¬†",f.stack&&(f.stack=f.diagnostic+"\n"+f.stack.split(/[\r\n]/).slice(1).join("\n"))}throw f}c.implicitReturns&&(e=astMutators.add_implicit_returns(e,c));if(c.automaticVarDeclarations){var i=["global","process","require","window","__filename","__dirname","module"];Array.isArray(c.globals)&&c.globals.length&&(i=i.concat(c.globals)),e=astMutators.first_time_var_delc(e,i,c)}c.namedLambdas&&(e=astMutators.named_lambda_assignments(e,c)),c.strictEqualityOperators&&(e=astMutators.enforce_strict_eq_ops(e,c)),c.keywordArguments&&(e=astMutators.enable_keyword_arguments(e,c)),c.mangleNames&&(e=processor.ast_mangle(e)),c.optimizationLevel&&(e=processor.ast_squeeze(e)),typeof c.optimizationLevel==="number"&&c.optimizationLevel>1&&(e=processor.ast_squeeze_more(e));var j=processor.gen_code(e,c.outputFormatting);c.strict&&(c.raw?j='"use strict";'+j:j=j.replace(/\(function\s*\(\)\s*\{/,'(function(){"use strict";'));return c.detailedOutput?{ast:e,code:j}:j},exports.compileFileSync=function compileFileSync(a,b){if(!fs)throw new Error("File system access is not supported");typeof b==="object"&&!b.filename?b.filename=a:b={filename:a};return exports.compile(fs.readFileSync(a,"utf8"),b)},exports.eval=function(a,b){if(!b||typeof b!=="object")b={};var c=exports.compile(a,b);return function(){var a=exports;return evalFunc(c,String(b.filename||"<input>"))}()};var evalFunc;try{evalFunc=require("vm").runInThisContext}catch(e){evalFunc=eval}typeof window!=="undefined"&&window?exports.compileURL=function compileURL(a,b,c){var d=parseKWArgs(arguments,[["url"],["options"],["callback"]]);typeof d.options==="function"&&(d.callback=d.options,d.options={});var e=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;e.open("GET",d.url,!0),"overrideMimeType"in e&&e.overrideMimeType("text/plain"),e.onreadystatechange=function(){if(e.readyState===4){var b,c,f=a.indexOf("://")!==-1?a.match(/^http/):document.location.protocol.match(/^http/);if(f&&String(e.status).charAt(0)==="2"||!f&&e.status===0)try{b=move.compile(e.responseText,d.options)}catch(g){c=g}else e.status&&e.statusText?(c=new Error("HTTP request error: "+e.status+" "+e.statusText),c.httpStatus=e.status):c=new Error("Unspecified HTTP request error");if(typeof d.callback==="function")d.callback(c,b);else if(c)throw c}};return e.send(null)}:!http;var parseKWArgs=function parseKWArgs(a,b){var c=a[0],d,e,f,g;if(typeof c==="object"&&c.__kw===_MoveKWArgsT){d=c;for(g=0;g<b.length;++g)e=b[g][0],d[e]===undefined&&(f=b[g][1])!==undefined&&(d[e]=f)}else{d={};for(g=0;g<b.length;++g)e=b[g][0],f=a[g],f===undefined&&(f=b[g][1]),f!==undefined&&(d[e]=f)}return d},wrapInRuntime=function wrapInRuntime(a,b){var c="(function () { ";b.automaticVarDeclarations||(c+="var "),c+="__mvrt = __move.runtime";var d=Object.keys(exports.runtime);d.length&&(c+=", "+d.map(function(a){return a+" = __mvrt."+a}).join(","));return c+"; "+a+"})()"};require.extensions&&(require.extensions[".mv"]=require.extensions[".move"]=function compileMoveModule(a,b){content=exports.compileFileSync(b,{optimizationLevel:1});return a._compile(content,b)});var _MoveKWArgsT=function _MoveKWArgsT(a){a.__kw=_MoveKWArgsT;return a};global.__move=exports,exports.runtime={_MoveKWArgsT:_MoveKWArgsT},exports.runtime=require("./runtime")}},modules.optparse=module={id:"optparse",exports:{},block:function(a,b,c,d,e){(function(){var b,c,d,e,f,g,h,i;a.OptionParser=e=function(){function a(a,b){this.banner=b,this.rules=h(a)}a.prototype.parse=function(a){var c,d,e,g,h,j,k,l,m,n,o;h={arguments:[],literals:[]},a=i(a);for(d=0,m=a.length;d<m;d++){c=a[d];if(c==="--"){h.literals=a.slice(d+1);break}e=!!c.match(b)||!!c.match(f),g=!1,o=this.rules;for(l=0,n=o.length;l<n;l++){j=o[l];if(j.shortFlag===c||j.longFlag===c){k=j.hasArgument?a[d+=1]:!0,h[j.name]=j.isList?(h[j.name]||[]).concat(k):k,g=!0;break}}if(e&&!g)throw new Error("unrecognized option: "+c);if(!e){h.arguments=a.slice(d);break}}return h},a.prototype.help=function(){var a,b,c,d,e,f,g;b=[],this.banner&&b.unshift(""+this.banner+"\n"),g=this.rules;for(e=0,f=g.length;e<f;e++)c=g[e],d=15-c.longFlag.length,d=d>0?Array(d+1).join(" "):"",a=c.shortFlag?c.shortFlag+", ":"    ",b.push("  "+a+c.longFlag+d+c.description);return b.join("\n")+"\n"};return a}(),b=/^(--\w[\w\-]+)/,f=/^(-\w)/,c=/^-(\w{2,})/,d=/\[(\w+(\*?))\]/,h=function(a){var b,c,d,e;e=[];for(c=0,d=a.length;c<d;c++)b=a[c],b.length<3&&b.unshift(null),e.push(g.apply(null,b));return e},g=function(a,c,e,f){var g;f==null&&(f={}),g=c.match(d),c=c.match(b)[1];return{name:c.substr(2),shortFlag:a,longFlag:c,description:e,hasArgument:!!g&&!!g[1],isList:!!g&&!!g[2]}},i=function(a){var b,d,e,f,g,h,i,j,k;a=a.slice(0),f=[];for(g=0,i=a.length;g<i;g++){b=a[g];if(e=b.match(c)){k=e[1].split("");for(h=0,j=k.length;h<j;h++)d=k[h],f.push("-"+d)}else f.push(b)}return f}}).call(this)}},modules.parser=module={id:"parser",exports:{},block:function(a,b,c,d,e){function P(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function O(a,b){for(var c=b.length;--c>=0;)if(b[c]===a)return!0;return!1}function N(a){return a.split("")}function M(a,b){return Array.prototype.slice.call(a,b==null?0:b)}function L(a){var b={};for(var c=0;c<a.length;++c)b[a[c]]=!0;return b}function K(a){a instanceof Function&&(a=a());for(var b=1,c=arguments.length;--c>0;++b)arguments[b]();return a}function J(a){var b=M(arguments,1);return function(){return a.apply(this,b.concat(M(arguments)))}}function I(a,b,c){function bo(a){try{++e.in_loop;return a()}finally{--e.in_loop}}function bn(a){arguments.length==0&&(a=!0);var b=bm();if(a&&f("punc",",")){h();return q("seq",b,bn())}return b}function bm(){var a=bk(),b=e.token.value;if(f("operator")&&P(D,b)){if(bl(a)){h();return q("assign",D[b],a,bm())}j("Invalid assignment")}return a}function bl(a){switch(a[0]){case"dot":case"sub":return!0;case"name":return a[1]!="this"}}function bk(){var a=bj();if(f("operator","?")){h();var b=bn(!1);n(":");return q("conditional",a,b,bn(!1))}return a}function bj(){return bi($(!0),0)}function bi(a,b){var c=f("operator")?e.token.value:null,d=c!=null?E[c]:null;if(d!=null&&d>b){h();var g=bi($(!0),d);return bi(q("binary",c,a,g),b)}return a}function bh(a,b,c){(b=="++"||b=="--")&&!bl(c)&&j("Invalid use of "+b+" operator");return q(a,b,c)}function bg(a,b){if(f("punc",".")){h();return bg(q("dot",a,bf()),b)}if(f("punc","[")){h();return bg(q("sub",a,K(bn,J(n,"]"))),b)}if(b&&f("punc","(")){h();return bg(q("call",a,_(")")),!0)}if(b&&d.keywordArguments&&f("punc","{")){h();var c;f("operator","&")?(h(),c=bn(!1),n("}"),d.raw||(c=["call",["name","_MoveKWArgsT"],[c]])):(c=bc(),c[1].push(["__kw",["name","__Move_KWArgs__"]]));var g=a;return bg(q("call",g,[c]),!0)}if(b&&f("operator")&&P(C,e.token.value))return K(J(bh,"unary-postfix",e.token.value,a),h);if(b&&!e.token.nlb&&!f("eof")&&!f("punc")&&!f("operator")&&(e.token.type!=="keyword"||e.token.value==="function")){var i=[bn(!1)];return bg(q("call",a,i),!0)}return a}function bf(){switch(e.token.type){case"name":case"operator":case"keyword":case"atom":return K(e.token.value,h);default:l()}}function be(){switch(e.token.type){case"num":case"string":return K(e.token.value,h)}return bf()}function bd(){var a=!0,c,d,g=[],i={};while(!f("punc",")")){a?a=!1:n(",");if(!b&&f("punc",")"))break;c=e.token.type,d=be(),g.push(d);if(f("punc",":")||f("operator","="))h(),i[d]=bn(!1)}h();return{names:g,values:i}}function bc(){var a=!0,c=[];while(!f("punc","}")){a?a=!1:n(",");if(!b&&f("punc","}"))break;var d=e.token.type,g=be();d!="name"||g!="get"&&g!="set"||!!f("punc",":")?(n(":"),c.push([g,bn(!1)])):c.push([bf(),L(!1),g])}h();return q("object",c)}function bb(){return q("array",_("]",!b,!0))}function ba(a,b,c,d){var e=!0,g=[];d||(d=0x10000000000000000);try{while(!f("punc",a)&&--d){e?e=!1:n(",");if(b&&f("punc",a))break;f("punc",",")&&c?g.push(["atom","undefined"]):g.push(bn(!1))}h()}catch(i){if(String(i.message).indexOf("Unexpected token")!==0)throw i}return g}function _(a,b,c){var d=!0,e=[];while(!f("punc",a)){d?d=!1:n(",");if(b&&f("punc",a))break;f("punc",",")&&c?e.push(["atom","undefined"]):e.push(bn(!1))}h();return e}function $(a){if(f("operator","new")){h();return Z()}if(f("operator")&&P(B,e.token.value))return bh("unary-prefix",K(e.token.value,h),$(a));if(f("punc")){switch(e.token.value){case"(":h();return bg(K(bn,J(n,")")),a);case"[":h();return bg(bb(),a);case"{":h();return bg(bc(),a)}l()}if(f("keyword","function")){h();return bg(L(!1),a)}if(P(G,e.token.type)){var b=e.token.type=="regexp"?q("regexp",e.token.value[0],e.token.value[1]):q(e.token.type,e.token.value);return bg(K(b,h),a)}l()}function Z(){var a=$(!1),b;f("punc","(")?(h(),b=_(")")):b=[];return bg(q("new",a,b),!0)}function Y(){return q("export",U())}function X(){return q("import",U())}function W(){return q("const",U())}function V(){return q("var",U())}function U(){var a=[];for(;;){f("name")||l();var b=e.token.value;h(),f("operator","=")?(h(),a.push([b,bn(!1)])):a.push([b]);if(!f("punc",","))break;h()}return a}function T(){var a=R(),b,c;if(f("keyword","catch")){h(),n("("),f("name")||j("Name expected");var d=e.token.value;h(),n(")"),b=[d,R()]}f("keyword","finally")&&(h(),c=R()),!b&&!c&&j("Missing catch/finally blocks");return q("try",a,b,c)}function R(){n("{");var a=[];while(!f("punc","}"))f("eof")&&l(),a.push(t());h();return a}function Q(){var a=r(),b=t(),c;f("keyword","else")&&(h(),c=t());return q("if",a,b,c)}function N(a){var b=f("name")?K(e.token.value,h):null;a&&!b&&!e.in_function&&l(),n("(");var c=bd();return q(a?"defun":"function",b,c.names,function(){++e.in_function;var a=e.in_loop;e.in_loop=0;var b=R();--e.in_function,e.in_loop=a;return b}(),c.values)}function I(){n("(");var a=!d.automaticVarDeclarations&&f("keyword","var");a&&h();if(f("name")&&y(g(),"operator","in")){var b=e.token.value;h(),h();var c=bn();n(")");return q("for-in",a,b,c,bo(t))}var i=f("punc",";")?null:a?V():bn();n(";");var j=f("punc",";")?null:bn();n(";");var k=f("punc",")")?null:bn();n(")");return q("for",i,j,k,bo(t))}function z(a){var b=f("name")?e.token.value:null;b!=null?(h(),O(b,e.labels)||j("Label "+b+" without matching loop or statement")):e.in_loop==0&&j(a+" not inside a loop or switch"),p();return q(a,b)}function w(){return q("stat",K(bn,p))}function v(a){e.labels.push(a);var c=e.token,d=t();b&&!P(F,d[0])&&l(c),e.labels.pop();return q("label",a,d)}function u(){f("operator","/")&&(e.peeked=null,e.token=e.input(!0)),d.automaticVarDeclarations&&e.token.type==="keyword"&&e.token.value==="var"&&l();switch(e.token.type){case"num":case"string":case"regexp":case"operator":case"atom":return w();case"name":return y(g(),"punc",":")?v(K(e.token.value,h,h)):w();case"punc":switch(e.token.value){case"{":return q("block",R());case"[":case"(":return w();case";":h();return q("block");default:l()};case"keyword":switch(K(e.token.value,h)){case"break":return z("break");case"continue":return z("continue");case"debugger":p();return q("debugger");case"do":return function(a){m("keyword","while");return q("do",K(r,p),a)}(bo(t));case"for":return I();case"function":return L(!0);case"if":return Q();case"return":e.in_function==0&&j("'return' outside of function");return q("return",f("punc",";")?(h(),null):o()?null:K(bn,p));case"switch":return q("switch",r(),S());case"throw":return q("throw",K(bn,p));case"try":return T();case"var":return K(V,p);case"const":return K(W,p);case"while":return q("while",r(),bo(t));case"with":j("'with' statement not allowed");case"import":return K(X,p);case"export":return K(Y,p);default:l()}}}function s(a,b,c){return a instanceof H?a:new H(a,b,c)}function r(){n("(");var a=bn();n(")");return a}function q(){return M(arguments)}function p(){f("punc",";")?h():o()||l()}function o(){return!b&&(e.token.nlb||f("eof")||f("punc","}"))}function n(a){return m("punc",a)}function m(a,b){if(f(a,b))return h();k(e.token,"Unexpected token: "+e.token.type+", expected "+a)}function l(a){a==null&&(a=e.token),k(a,"Unexpected token: "+a.type+" ("+a.value+")")}function k(a,b){j(b,a.line,a.col)}function j(a,b,c,d){var f=e.input.context();x(a,b!=null?b:f.tokline,c!=null?c:f.tokcol,d!=null?d:f.tokpos)}function i(){return e.prev}function h(){e.prev=e.token,e.peeked?(e.token=e.peeked,e.peeked=null):e.token=e.input();return e.token}function g(){return e.peeked||(e.peeked=e.input())}function f(a,b){return y(e.token,a,b)}var d={};typeof b==="object"&&(d=b,b=d.strictMode,c=d.embedTokens);var e={input:typeof a=="string"?A(a,d):a,token:null,prev:null,peeked:null,in_function:0,in_loop:0,labels:[]};e.token=h();var t=c?function(){var a=e.token,b=u.apply(this,arguments);b[0]=s(b[0],a,i());return b}:u,L=c?function(){var a=i(),b=N.apply(this,arguments);b[0]=s(b[0],a,i());return b}:N,S=J(bo,function(){n("{");var a=[],b=null;while(!f("punc","}"))f("eof")&&l(),f("keyword","case")?(h(),b=[],a.push([bn(),b]),n(":")):f("keyword","default")?(h(),n(":"),b=[],a.push([null,b])):(b||l(),b.push(t()));h();return a});return q("toplevel",function(a){while(!f("eof"))a.push(t());return a}([]))}function H(a,b,c){this.name=a,this.start=b,this.end=c}function A(a,b){function O(a){if(c.queued_tokens.length)return c.queued_tokens.shift();if(a)return I();w(),l();var b=d();if(!b)return m("eof");if(u(b))return B();if(b==='"'||b==="'")return F();if(P(q,b))return m("punc",e());if(b===".")return L();if(b==="/")return K();if(b==="#"){var f=c.regex_allowed;c.comments_before.push(G()),c.regex_allowed=f;return O()}if(b==="^"){e(),b=d(),b==="{"&&(c.queued_tokens.push(m("punc","(")),c.queued_tokens.push(m("punc",")")));return m("keyword","function")}if(P(j,b))return J();if(b==="@"){e();var g=M(),h=m("name","this");h.nlb=g.nlb,g.nlb=!1,c.queued_tokens.push(m("punc",".")),c.queued_tokens.push(g);return h}if(t(b))return M();A("Unexpected character '"+b+"'")}function N(a,b){try{return b()}catch(c){if(c===z)A(a);else throw c}}function M(){var a=y(t);return P(f,a)?P(n,a)?m("operator",a):P(i,a)?m("atom",a):m("keyword",a):m("name",a)}function L(){e();return u(d())?B("."):m("punc",".")}function K(){e();var a=c.regex_allowed;switch(d()){case"/":c.comments_before.push(G()),c.regex_allowed=a;return O();case"*":c.comments_before.push(H()),c.regex_allowed=a;return O()}return c.regex_allowed?I():J("/")}function J(a){function b(a){if(!d())return a;var c=a+d();if(P(n,c)){e();return b(c)}return a}return m("operator",b(a||e()))}function I(){return N("Unterminated regular expression",function(){var a=!1,b="",c,d=!1;while(c=e(!0))if(a)b+="\\"+c,a=!1;else if(c=="[")d=!0,b+=c;else if(c=="]"&&d)d=!1,b+=c;else{if(c=="/"&&!d)break;c=="\\"?a=!0:b+=c}var f=y(function(a){return P(r,a)});return m("regexp",[b,f])})}function H(){e();return N("Unterminated multiline comment",function(){var a=k("*/",!0),b=c.text.substring(c.pos,a),d=m("comment2",b,!0);c.pos=a+2,c.line+=b.split("\n").length-1,c.newline_before=b.indexOf("\n")>=0;return d})}function G(){e();var a=k("\n"),b;a==-1?(b=c.text.substr(c.pos),c.pos=c.text.length):(b=c.text.substring(c.pos,a),c.pos=a);return m("comment1",b,!0)}function F(){return N("Unterminated string constant",function(){var a=e(),b="";for(;;){var c=e(!0);if(c=="\\")c=D();else if(c==a)break;b+=c}return m("string",b)})}function E(a){var b=0;for(;a>0;--a){var c=parseInt(e(!0),16);isNaN(c)&&A("Invalid hex-character pattern in string"),b=b<<4|c}return b}function D(){var a=e(!0);switch(a){case"n":return"\n";case"r":return"\r";case"t":return"\t";case"b":return"\b";case"v":return"";case"f":return"\f";case"0":return" ";case"x":return String.fromCharCode(E(2));case"u":return String.fromCharCode(E(4));default:return a}}function B(a){var b=!1,c=!1,d=!1,e=a==".",f=y(function(f,g){if(f=="x"||f=="X"){if(d)return!1;return d=!0}if(!d&&(f=="E"||f=="e")){if(b)return!1;return b=c=!0}if(f=="-"){if(c||g==0&&!a)return!0;return!1}if(f=="+")return c;c=!1;if(f=="."){if(!e)return e=!0;return!1}return s(f)});a&&(f=a+f);var g=v(f);if(!isNaN(g))return m("num",g);A("Invalid syntax: "+f)}function A(a){x(a,c.tokline,c.tokcol,c.tokpos)}function y(a){var b="",c=d(),f=0;while(c&&a(c,f++))b+=e(),c=d();return b}function w(){while(P(o,d()))e()}function m(a,b,d){c.regex_allowed=a=="operator"&&!P(C,b)||a=="keyword"&&P(h,b)||a=="punc"&&P(p,b);var e={type:a,value:b,line:c.tokline,col:c.tokcol,pos:c.tokpos,nlb:c.newline_before};d||(e.comments_before=c.comments_before,c.comments_before=[]),c.newline_before=!1,c.prev_token=e;return e}function l(){c.tokline=c.line,c.tokcol=c.col,c.tokpos=c.pos}function k(a,b){var d=c.text.indexOf(a,c.pos);if(b&&d==-1)throw z;return d}function g(){return!c.peek()}function e(a){var b=c.text.charAt(c.pos++);if(a&&!b)throw z;b=="\n"?(c.newline_before=!0,++c.line,c.col=0):++c.col;return b}function d(){return c.text.charAt(c.pos)}typeof b!=="object"&&(b={});var c={text:a.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],queued_tokens:[]};O.context=function(a){a&&(c=a);return c};return O}function y(a,b,c){return a.type==b&&(c==null||a.value==c)}function x(a,b,c,d){throw new w(a,b,c,d)}function w(a,b,c,d){this.name="JS_Parse_Error",this.message=a,this.line=b,this.col=c,this.pos=d;try{({})()}catch(e){this.stack=this.message,e&&e.stack&&(this.stack+="\n"+e.stack.split(/[\r\n]/).slice(3).join("\n"))}}function v(a){if(k.test(a))return parseInt(a.substr(2),16);if(l.test(a))return parseInt(a.substr(1),8);if(m.test(a))return parseFloat(a)}function u(a){a=a.charCodeAt(0);return a>=48&&a<=57}function t(a){return s(a)||a=="$"||a=="_"}function s(a){a=a.charCodeAt(0);return a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122}var f=L(["break","case","catch","const","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with","import","export","xor"]);a.KEYWORDS=f;var g=L(["abstract","boolean","byte","char","class","debugger","double","enum","extends","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","throws","transient","volatile"]);a.RESERVED_WORDS=g;var h=L(["return","new","delete","throw","else","case"]),i=L(["false","null","true","undefined"]),j=L(N("+-*&%=<>!?|~")),k=/^0x[0-9a-f]+$/i,l=/^0[0-7]+$/,m=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,n=L(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","%=","|=","&=","&&","||","xor"]),o=L(N(" \n\r\t")),p=L(N("[{}(,.;:")),q=L(N("[]{}(),;:")),r=L(N("gmsiy"));w.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};var z={},B=L(["typeof","void","delete","--","++","!","~","-","+"]),C=L(["--","++"]),D=function(a,b,c){while(c<a.length)b[a[c]]=a[c].substr(0,a[c].length-1),c++;return b}(["+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","xor=","&="],{"=":!0},0),E=function(a,b){for(var c=0,d=1;c<a.length;++c,++d){var e=a[c];for(var f=0;f<e.length;++f)b[e[f]]=d}return b}([["||"],["&&"],["|"],["xor"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),F=L(["for","do","while","switch"]),G=L(["atom","num","string","regexp","name"]);H.prototype.toString=function(){return this.name},a.tokenizer=A,a.parse=I,a.slice=M,a.curry=J,a.member=O,a.array_to_hash=L,a.PRECEDENCE=E,a.KEYWORDS_ATOM=i,a.RESERVED_WORDS=g,a.KEYWORDS=f,a.ATOMIC_START_TOKEN=G,a.OPERATORS=n,a.is_alphanumeric_char=s,a.is_identifier_char=t}},modules.process=module={id:"process",exports:{},block:function(a,b,c,d,e){function H(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function G(a){return/^[a-z_$][a-z0-9_$]*$/i.test(a)&&a!="this"&&!H(f.KEYWORDS_ATOM,a)&&!H(f.RESERVED_WORDS,a)&&!H(f.KEYWORDS,a)}function F(a,b){var c={};a===!0&&(a={});for(var d in b)H(b,d)&&(c[d]=a&&H(a,d)?a[d]:b[d]);return c}function E(a,b){if(b<=0)return"";if(b==1)return a;var c=E(a,b>>1);c+=c,b&1&&(c+=a);return c}function D(a,b){var c=[0];f.parse(function(){function j(){var a=d.apply(this,arguments);out:{if(g&&g.type=="keyword")break out;if(h(a)>b)switch(a.type){case"keyword":case"atom":case"name":case"punc":i(a);break out}}g=a;return a}function i(a){e=a.pos,c.push(e)}function h(a){return a.pos-e}var d=f.tokenizer(a),e=0,g;j.context=function(){return d.context.apply(this,arguments)};return j}());return c.map(function(b,d){return a.substring(b,c[d+1]||a.length)}).join("\n")}function C(a,b){function K(a){if(!!a){var b=a[0],c=t[b];if(!c)throw new Error("Can't find generator for \""+b+'"');J.push(a);var d=c.apply(b,a.slice(1));J.pop();return d}}function D(a){var b=a[0],c=a[1];c!=null&&(b=n([b,"=",K(c)]));return b}function C(a){if(!a)return";";if(a.length==0)return"{}";return"{"+d+m(function(){return y(a).join(d)})+d+l("}")}function z(a){var c=a.length;if(c==0)return"{}";return"{"+d+I(a,function(a,e){var f=a[1].length>0,g=m(function(){return l(a[0]?n(["case",K(a[0])+":"]):"default:")},.5)+(f?d+m(function(){return y(a[1]).join(d)}):"");!b&&f&&e<c-1&&(g+=";");return g}).join(d)+d+l("}")}function y(a){for(var c=[],d=a.length-1,e=0;e<=d;++e){var f=a[e],g=K(f);g!=";"&&(!b&&e==d&&(f[0]=="while"&&v(f[2])||h(f[0],["for","for-in"])&&v(f[4])||f[0]=="if"&&v(f[2])&&!f[3]||f[0]=="if"&&f[3]&&v(f[3])?g=g.replace(/;*\s*$/,";"):g=g.replace(/;+\s*$/,"")),c.push(g))}return I(c,l)}function x(a){return a.toString()}function w(a,c,d,e,f){var g=f||"function";a?g+=" "+x(a):b&&(g+=" "),g+="("+o(I(c,x))+")";return n([g,C(d)])}function u(a){if(a[0]=="do")return K(["block",[a]]);var b=a;while(!0){var c=b[0];if(c=="if"){if(!b[3])return K(["block",[a]]);b=b[3]}else if(c=="while"||c=="do")b=b[2];else if(c=="for"||c=="for-in")b=b[4];else break}return K(a)}function s(a){var b=a.toString(10),c=[b.replace(/^0\./,".")],d;Math.floor(a)===a?(c.push("0x"+a.toString(16).toLowerCase(),"0"+a.toString(8)),(d=/^(.*?)(0+)$/.exec(a))&&c.push(d[1]+"e"+d[2].length)):(d=/^0?\.(0+)(.*)$/.exec(a))&&c.push(d[2]+"e-"+(d[1].length+d[2].length),b.substr(b.indexOf(".")));return q(c)}function r(a){if(a[0]=="function"){var b=g(J),c=b.pop(),d=b.pop();while(d){if(d[0]=="stat")return!0;if(d[0]=="seq"&&d[1]===c||d[0]=="call"&&d[1]===c||d[0]=="binary"&&d[2]===c)c=d,d=b.pop();else return!1}}return!H(A,a[0])}function q(a){if(a.length==1)return a[0];if(a.length==2){var b=a[1];a=a[0];return a.length<=b.length?a:b}return q([a[0],q(a.slice(1))])}function p(a){var b=K(a);for(var c=1;c<arguments.length;++c){var d=arguments[c];if(d instanceof Function&&d(a)||a[0]==d)return"("+b+")"}return b}function o(a){return a.join(","+e)}function n(a){if(b)return a.join(" ");var c=[];for(var d=0;d<a.length;++d){var e=a[d+1];c.push(a[d]),e&&(/[a-z0-9_\x24]$/i.test(a[d].toString())&&/^[a-z0-9_\x24]/i.test(e.toString())||/[\+\-]$/.test(a[d].toString())&&/^[\+\-]/.test(e.toString()))&&c.push(" ")}return c.join("")}function m(a,b){b==null&&(b=1),c+=b;try{return a.apply(null,g(arguments,1))}finally{c-=b}}function l(a){a==null&&(a=""),b&&(a=E(" ",b.indent_start+c*b.indent_level)+a);return a}b&&(b=F(b,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!1}));var c=0,d=b?"\n":"",e=b?" ":"",t={string:B,num:s,name:x,toplevel:function(a){return y(a).join(d+d)},block:C,"var":function(a){return"var "+o(I(a,D))+";"},"const":function(a){return"const "+o(I(a,D))+";"},"import":function(a){return o(I(a,function(a){var b=a[0],c=b;a.length>1&&(c=a[1][1]);return b+" = require("+K(["string",c])+")"}))+";"},"export":function(a){return o(I(a,function(b){var c=b[0],d=c;b.length>1&&(d=b[1][1]);return"exports."+c+" = "+o(I(a,D))}))+";"},"try":function(a,b,c){var d=["try",C(a)];b&&d.push("catch","("+b[0]+")",C(b[1])),c&&d.push("finally",C(c));return n(d)},"throw":function(a){return n(["throw",K(a)])+";"},"new":function(a,b){b=b.length>0?"("+o(I(b,K))+")":"";return n(["new",p(a,"seq","binary","conditional","assign",function(a){var b=k(),c={};try{b.with_walkers({call:function(){throw c},"function":function(){return this}},function(){b.walk(a)})}catch(d){if(d===c)return!0;throw d}})+b])},"switch":function(a,b){return n(["switch","("+K(a)+")",z(b)])},"break":function(a){var b="break";a!=null&&(b+=" "+x(a));return b+";"},"continue":function(a){var b="continue";a!=null&&(b+=" "+x(a));return b+";"},conditional:function(a,b,c){return n([p(a,"assign","seq","conditional"),"?",p(b,"seq"),":",p(c,"seq")])},assign:function(a,b,c){a&&a!==!0?a+="=":a="=",c||console.log("assign:",a,b,c);return n([K(b),a,p(c,"seq")])},dot:function(a){var b=K(a),c=1;a[0]=="num"?b+=".":r(a)&&(b="("+b+")");while(c<arguments.length)b+="."+x(arguments[c++]);return b},call:function(a,b){var c=K(a);r(a)&&(c="("+c+")");return c+"("+o(I(b,function(a){return p(a,"seq")}))+")"},"function":w,defun:w,"if":function(a,b,c){var d=["if","("+K(a)+")",c?u(b):K(b)];c&&d.push("else",K(c));return n(d)},"for":function(a,b,c,d){var f=["for"];a=(a!=null?K(a):"").replace(/;*\s*$/,";"+e),b=(b!=null?K(b):"").replace(/;*\s*$/,";"+e),c=(c!=null?K(c):"").replace(/;*\s*$/,"");var g=a+b+c;g=="; ; "&&(g=";;"),f.push("("+g+")",K(d));return n(f)},"for-in":function(a,b,c,d){var e=n(["for","("]);a&&(e+="var "),e+=n([x(b)+" in "+K(c)+")",K(d)]);return e},"while":function(a,b){return n(["while","("+K(a)+")",K(b)])},"do":function(a,b){return n(["do",K(b),"while","("+K(a)+")"])+";"},"return":function(a){var b=["return"];a!=null&&b.push(K(a));return n(b)+";"},binary:function(a,b,c){var d=K(b),e=K(c);if(h(b[0],["assign","conditional","seq"])||b[0]=="binary"&&i[a]>i[b[1]])d="("+d+")";if(h(c[0],["assign","conditional","seq"])||c[0]=="binary"&&i[a]>=i[c[1]]&&(c[1]!=a||!h(a,["&&","||","*"])))e="("+e+")";a==="xor"&&(a="^");return n([d,a,e])},"unary-prefix":function(a,b){var c=K(b);b[0]=="num"||b[0]=="unary-prefix"&&!H(j,a+b[1])||!r(b)||(c="("+c+")");return a+(f.is_alphanumeric_char(a.charAt(0))?" ":"")+c},"unary-postfix":function(a,b){var c=K(b);b[0]=="num"||b[0]=="unary-postfix"&&!H(j,a+b[1])||!r(b)||(c="("+c+")");return c+a},sub:function(a,b){var c=K(a);r(a)&&(c="("+c+")");return c+"["+K(b)+"]"},object:function(a){if(a.length==0)return"{}";return"{"+d+m(function(){return I(a,function(a){if(a.length==3)return l(w(a[0],a[1][2],a[1][3],a[1][4],a[2]));var c=a[0],d=K(a[1]);b&&b.quote_keys?c=B(c):(typeof c=="number"||!b&&+c+""==c)&&parseFloat(c)>=0?c=s(+c):G(c)||(c=B(c));return l(n(b&&b.space_colon?[c,":",d]:[c+":",d]))}).join(","+d)})+d+l("}")},regexp:function(a,b){return"/"+a+"/"+b},array:function(a){if(a.length==0)return"[]";return n(["[",o(I(a,function(a){if(!b&&a[0]=="atom"&&a[1]=="undefined")return"";return p(a,"seq")})),"]"])},stat:function(a){return K(a).replace(/;*\s*$/,";")},seq:function(){return o(I(g(arguments),K))},label:function(a,b){return n([x(a),":",K(b)])},"with":function(a,b){return n(["with","("+K(a)+")",K(b)])},atom:function(a){return x(a)}},J=[];return K(a)}function B(a){var b=0,c=0;a=a.replace(/[\\\b\f\n\r\t\x22\x27]/g,function(a){switch(a){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case'"':++b;return'"';case"'":++c;return"'"}return a});return b>c?"'"+a.replace(/\x27/g,"\\'")+"'":'"'+a.replace(/\x22/g,'\\"')+'"'}function z(a,b){function w(a,b){return x(a,function(a,c){if(!c){y(b);return["block"]}return["for",null,null,null,d(b)]})}function p(a,b,c){a=d(a),b=d(b),c=d(c),v(b)?(a=f(a),b=c,c=null):v(c)?c=null:function(){var d=C(a),e=f(a),g=C(e);if(g.length<d.length){var h=b;b=c,c=h,a=e}}();if(v(c)&&v(b))return["stat",a];var e=["if",a,b,c];b[0]=="if"&&v(b[3])&&v(c)?e=q(e,d(["if",["binary","&&",a,b[1]],b[2]])):b[0]=="stat"?c?c[0]=="stat"&&(e=q(e,["stat",u(a,b[1],c[1])])):e=q(e,["stat",u(a,b[1])]):!c||b[0]!=c[0]||b[0]!="return"&&b[0]!="throw"?c&&s(b)?(e=[["if",a,b]],c[0]=="block"?c[1]&&(e=e.concat(c[1])):e.push(c),e=d(["block",e])):b&&s(c)&&(e=[["if",f(a),c]],b[0]=="block"?b[1]&&(e=e.concat(b[1])):e.push(b),e=d(["block",e])):e=q(e,[b[0],u(a,b[1],c[1])]);return e}function o(a,b,c){return x(a,function(a,d){if(d){y(c);return b}y(b);return c},function(){return p(a,b,c)})}function m(a,c){a=a.reduce(function(a,b){b[0]=="block"?b[1]&&a.push.apply(a,b[1]):a.push(b);return a},[]),a=function(b,c){a.forEach(function(a){c&&(a[0]=="var"&&c[0]=="var"||a[0]=="const"&&c[0]=="const")?c[1]=c[1].concat(a[1]):(b.push(a),c=a)});return b}([]),b.dead_code&&(a=function(c,d){a.forEach(function(a){d?h(a[0],["function","defun","var","const"])?c.push(a):b.no_warnings||y(a):(c.push(a),h(a[0],["return","throw","break","continue"])&&(d=!0))});return c}([])),b.make_seqs&&(a=function(b,c){a.forEach(function(a){c&&c[0]=="stat"&&a[0]=="stat"?c[1]=["seq",c[1],a[1]]:(b.push(a),c=a)});return b}([])),c=="lambda"&&(a=function(b,c,d){while(b<a.length){d=a[b++];if(d[0]=="if"&&!d[3]){if(d[2][0]=="return"&&d[2][1]==null){c.push(o(f(d[1]),["block",a.slice(b)]));break}var e=r(d[2]);if(e[0]=="return"&&e[1]==null){c.push(o(d[1],["block",d[2][1].slice(0,-1)],["block",a.slice(b)]));break}}c.push(d)}return c}(0,[]));return a}function l(a,b,c,e){return[this[0],a,b,i(c.scope,function(){return m(I(c,d),"lambda")}),e]}function j(a){a!=null&&a[0]=="block"&&a[1]&&(a[1].length==1?a=a[1][0]:a[1].length==0&&(a=["block"]));return a}function i(a,b){var c=e;e=a;var d=b();d.scope=a,e=c;return d}function f(a){var c=["unary-prefix","!",a];switch(a[0]){case"unary-prefix":return a[1]=="!"&&t(a[2])?a[2]:c;case"seq":a=g(a),a[a.length-1]=f(a[a.length-1]);return a;case"conditional":return q(c,["conditional",a[1],f(a[2]),f(a[3])]);case"binary":var d=a[1],e=a[2],h=a[3];if(!b.keep_comps)switch(d){case"<=":return["binary",">",e,h];case"<":return["binary",">=",e,h];case">=":return["binary","<",e,h];case">":return["binary","<=",e,h]}switch(d){case"==":return["binary","!=",e,h];case"!=":return["binary","==",e,h];case"===":return["binary","!==",e,h];case"!==":return["binary","===",e,h];case"&&":return q(c,["binary","||",f(e),f(h)]);case"||":return q(c,["binary","&&",f(e),f(h)])}}return c}b=F(b,{make_seqs:!0,dead_code:!0,keep_comps:!0,no_warnings:!1});var c=k(),d=c.walk,e;return c.with_walkers({sub:function(a,b){if(b[0]=="string"){var c=b[1];if(G(c))return["dot",d(a),c]}},"if":o,toplevel:function(a){return["toplevel",i(this.scope,function(){return m(I(a,d))})]},"switch":function(a,b){var c=b.length-1;return["switch",d(a),I(b,function(a,b){var e=m(I(a[1],d));if(b==c&&e.length>0){var f=e[e.length-1];f[0]=="break"&&!f[1]&&e.pop()}return[a[0]?d(a[0]):null,e]})]},"function":l,defun:l,block:function(a){if(a)return j(["block",m(I(a,d))])},binary:function(a,b,c){return x(["binary",a,d(b),d(c)],function e(a){return q(d(a),this)},function f(){return this})},conditional:function(a,b,c){return u(d(a),d(b),d(c))},"try":function(a,b,c){return["try",m(I(a,d)),b!=null?[b[0],m(I(b[1],d))]:null,c!=null?m(I(c,d)):null]},"unary-prefix":function(a,b){b=d(b);var c=["unary-prefix",a,b];a=="!"&&(c=q(c,f(b)));return x(c,function(a,b){return d(a)},function(){return c})},name:function(a){switch(a){case"true":return["unary-prefix","!",["num",0]];case"false":return["unary-prefix","!",["num",1]]}},"new":function(a,b){if(a[0]=="name"&&a[1]=="Array"&&!e.has("Array"))return b.length!=1?["array",b]:["call",["name","Array"],b]},call:function(a,b){if(a[0]=="name"&&a[1]=="Array"&&b.length!=1&&!e.has("Array"))return["array",b]},"while":w,"do":w},function(){return d(n(a))})}function y(a){v(a)||p("Dropping unreachable code: "+C(a,!0))}function w(a){return a[0]=="string"||a[0]=="unary-prefix"&&a[1]=="typeof"||a[0]=="binary"&&a[1]=="+"&&(w(a[2])||w(a[3]))}function v(a){return!a||a[0]=="block"&&(!a[1]||a[1].length==0)}function u(a,b,c){return a[0]=="unary-prefix"&&a[1]=="!"?c?["conditional",a[2],c,b]:["binary","||",a[2],b]:c?["conditional",a,b,c]:["binary","&&",a,b]}function t(a){return a[0]=="unary-prefix"&&h(a[1],["!","delete"])||a[0]=="binary"&&h(a[1],["in","instanceof","==","!=","===","!==","<","<=",">=",">"])||a[0]=="binary"&&h(a[1],["&&","||"])&&t(a[2])&&t(a[3])||a[0]=="conditional"&&t(a[2])&&t(a[3])||a[0]=="assign"&&a[1]===!0&&t(a[3])||a[0]=="seq"&&t(a[a.length-1])}function s(a){if(a){a=r(a);if(a[0]=="return"||a[0]=="break"||a[0]=="continue"||a[0]=="throw")return!0}}function r(a){if(a[0]=="block"&&a[1]&&a[1].length>0)return a[1][a[1].length-1];return a}function q(a,b){return C(a).length>C(b[0]=="stat"?b[1]:b).length?b:a}function o(a,b){function i(a){return[this[0],I(a,function(a){return[f(a[0]),d(a[1])]})]}function h(a,b){var c=e;e=a;for(var d in a.names)H(a.names,d)&&f(d,!0);var g=b();g.scope=a,e=c;return g}function g(a,b,c,e){a&&(a=f(a)),c=h(c.scope,function(){b=I(b,function(a){return f(a)});return I(c,d)});return[this[0],a,b,c,e]}function f(a,c){if(!b&&!e.parent)return a;return e.get_mangled(a,c)}var c=k(),d=c.walk,e;return c.with_walkers({"function":g,defun:function(){var a=g.apply(this,arguments);switch(c.parent()[0]){case"toplevel":case"function":case"defun":return I.at_top(a)}return a},"var":i,"const":i,name:function(a){return[this[0],f(a)]},"try":function(a,b,c){return[this[0],I(a,d),b!=null?[f(b[0]),I(b[1],d)]:null,c!=null?I(c,d):null]},toplevel:function(a){var b=this;return h(b.scope,function(){return[b[0],I(a,d)]})},"for-in":function(a,b,c,e){return[this[0],a,f(b),d(c),d(e)]}},function(){return d(n(a))})}function n(a){function i(a,b,c,e){return[this[0],g(a),b,f(function(){I(b,g);return I(c,d)}),e]}function h(a){b.refs[a]=!0}function g(a){return b.define(a)}function f(a){b=new l(b);var c=b.body=a();c.scope=b,b=b.parent;return c}var b=null,c=k(),d=c.walk,e=[];return f(function(){function j(a,b){for(b=a.children.length;--b>=0;)j(a.children[b]);for(b in a.refs)if(H(a.refs,b))for(var c=a.has(b),d=a;d;d=d.parent){d.refs[b]=c;if(d===c)break}}var f=c.with_walkers({"function":i,defun:i,"with":function(a,c){for(var d=b;d;d=d.parent)d.uses_with=!0},"var":function(a){I(a,function(a){g(a[0])})},"const":function(a){I(a,function(a){g(a[0])})},"try":function(a,b,c){if(b!=null)return[this[0],I(a,d),[g(b[0]),I(b[1],d)],c!=null?I(c,d):null]},name:function(a){a=="eval"&&e.push(b),h(a)},"for-in":function(a,b){a?g(b):h(b)}},function(){return d(a)});I(e,function(a){if(!a.has("eval"))while(a)a.uses_eval=!0,a=a.parent}),j(b);return f})}function l(a){this.names={},this.mangled={},this.rev_mangled={},this.cname=-1,this.refs={},this.uses_with=!1,this.uses_eval=!1,this.parent=a,this.children=[],a?(this.level=a.level+1,a.children.push(this)):this.level=0}function k(a){function h(a,b){var c={},e;for(e in a)H(a,e)&&(c[e]=d[e],d[e]=a[e]);var f=b();for(e in c)H(c,e)&&(c[e]?d[e]=c[e]:delete d[e]);return f}function f(a){if(a==null)return null;try{e.push(a);var b=a[0],f=d[b];if(f){var g=f.apply(a,a.slice(1));if(g!=null)return g;if(g===null)return null}f=c[b];return f.apply(a,a.slice(1))}finally{e.pop()}}function b(a){return[this[0],I(a,function(a){var b=[a[0]];a.length>1&&(b[1]=f(a[1]));return b})]}var c={string:function(a){return[this[0],a]},num:function(a){return[this[0],a]},name:function(a){return[this[0],a]},toplevel:function(a){return[this[0],I(a,f)]},block:function(a){var b=[this[0]];a!=null&&b.push(I(a,f));return b},"var":b,"const":b,"import":b,"export":b,"try":function(a,b,c){return[this[0],I(a,f),b!=null?[b[0],I(b[1],f)]:null,c!=null?I(c,f):null]},"throw":function(a){return[this[0],f(a)]},"new":function(a,b){return[this[0],f(a),I(b,f)]},"switch":function(a,b){return[this[0],f(a),I(b,function(a){return[a[0]?f(a[0]):null,I(a[1],f)]})]},"break":function(a){return[this[0],a]},"continue":function(a){return[this[0],a]},conditional:function(a,b,c){return[this[0],f(a),f(b),f(c)]},assign:function(a,b,c){return[this[0],a,f(b),f(c)]},dot:function(a){return[this[0],f(a)].concat(g(arguments,1))},call:function(a,b){return[this[0],f(a),I(b,f)]},"function":function(a,b,c,d){return[this[0],a,b.slice(),I(c,f),d]},defun:function(a,b,c,d){return[this[0],a,b.slice(),I(c,f),d]},"if":function(a,b,c){return[this[0],f(a),f(b),f(c)]},"for":function(a,b,c,d){return[this[0],f(a),f(b),f(c),f(d)]},"for-in":function(a,b,c,d){return[this[0],a,b,f(c),f(d)]},"while":function(a,b){return[this[0],f(a),f(b)]},"do":function(a,b){return[this[0],f(a),f(b)]},"return":function(a){return[this[0],f(a)]},binary:function(a,b,c){return[this[0],a,f(b),f(c)]},"unary-prefix":function(a,b){return[this[0],a,f(b)]},"unary-postfix":function(a,b){return[this[0],a,f(b)]},sub:function(a,b){return[this[0],f(a),f(b)]},object:function(a){return[this[0],I(a,function(a){return a.length==2?[a[0],f(a[1])]:[a[0],f(a[1]),a[2]]})]},regexp:function(a,b){return[this[0],a,b]},array:function(a){return[this[0],I(a,f)]},stat:function(a){return[this[0],f(a)]},seq:function(){return[this[0]].concat(I(g(arguments),f))},label:function(a,b){return[this[0],a,f(b)]},"with":function(a,b){return[this[0],f(a),f(b)]},atom:function(a){return[this[0],a]}},d={},e=[];return{walk:f,with_walkers:h,parent:function(){return e[e.length-2]},stack:function(){return e}}}var f=b("./parser"),g=f.slice,h=f.member,i=f.PRECEDENCE,j=f.OPERATORS,m=function(){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_";return function(b){var c="";do c=a.charAt(b%54)+c,b=Math.floor(b/54);while(b>0);return c}}();l.prototype={has:function(a){for(var b=this;b;b=b.parent)if(H(b.names,a))return b},has_mangled:function(a){for(var b=this;b;b=b.parent)if(H(b.rev_mangled,a))return b},toJSON:function(){return{names:this.names,uses_eval:this.uses_eval,uses_with:this.uses_with}},next_mangled:function(){for(;;){var a=m(++this.cname),b;b=this.has_mangled(a);if(b&&this.refs[b.rev_mangled[a]]===b)continue;b=this.has(a);if(b&&b!==this&&this.refs[a]===b&&!b.has_mangled(a))continue;if(H(this.refs,a)&&this.refs[a]==null)continue;if(!G(a))continue;return a}},get_mangled:function(a,b){if(this.uses_eval||this.uses_with)return a;var c=this.has(a);if(!c)return a;if(H(c.mangled,a))return c.mangled[a];if(!b)return a;var d=c.next_mangled();c.rev_mangled[d]=a;return c.mangled[a]=d},define:function(a){if(a!=null)return this.names[a]=a}};var p=function(){},x=function(){function b(c){switch(c[0]){case"string":case"num":return c[1];case"name":case"atom":switch(c[1]){case"true":return!0;case"false":return!1}break;case"unary-prefix":switch(c[1]){case"!":return!b(c[2]);case"typeof":return typeof b(c[2]);case"~":return~b(c[2]);case"-":return-b(c[2]);case"+":return+b(c[2])}break;case"binary":var d=c[2],e=c[3];switch(c[1]){case"&&":return b(d)&&b(e);case"||":return b(d)||b(e);case"|":return b(d)|b(e);case"&":return b(d)&b(e);case"^":return b(d)^b(e);case"+":return b(d)+b(e);case"*":return b(d)*b(e);case"/":return b(d)/b(e);case"-":return b(d)-b(e);case"<<":return b(d)<<b(e);case">>":return b(d)>>b(e);case">>>":return b(d)>>>b(e);case"==":return b(d)==b(e);case"===":return b(d)===b(e);case"!=":return b(d)!=b(e);case"!==":return b(d)!==b(e);case"<":return b(d)<b(e);case"<=":return b(d)<=b(e);case">":return b(d)>b(e);case">=":return b(d)>=b(e);case"in":return b(d)in b(e);case"instanceof":return b(d)instanceof b(e)}}throw a}var a={};return function(c,d,e){try{var f=b(c),g;switch(typeof f){case"string":g=["string",f];break;case"number":g=["num",f];break;case"boolean":g=["name",String(f)];break;default:throw new Error("Can't handle constant of type: "+typeof f)}return d.call(c,g,f)}catch(h){if(h===a){c[0]=="binary"&&(c[1]=="==="||c[1]=="!==")&&(w(c[2])&&w(c[3])||t(c[2])&&t(c[3]))&&(c[1]=c[1].substr(0,2));return e?e.call(c,c):null}throw h}}}(),A=f.array_to_hash(["name","array","string","dot","sub","call","regexp"]),I;(function(){function a(a){this.v=a}I=function(b,c,d){var e=[];for(var f=0;f<b.length;++f){var g=c.call(d,b[f],f);g instanceof a?e.unshift(g.v):e.push(g)}return e},I.at_top=function(b){return new a(b)}})(),a.ast_walker=k,a.ast_mangle=o,a.ast_squeeze=z,a.gen_code=C,a.ast_add_scope=n,a.ast_squeeze_more=b("./squeeze-more").ast_squeeze_more,a.set_logger=function(a){p=a},a.make_string=B,a.split_lines=D,a.MAP=I,a.Scope=l}},modules.runtime=module={id:"runtime",exports:{},block:function(a,b,c,d,e){(function(){"use strict";var c,d,e,f,g,h,i,j,g,h;c=__move.runtime,d=c._MoveKWArgsT,e=c.inspect,f=c.print,g=c.repeat,h=c.after,d=global.__move.runtime._MoveKWArgsT,i=typeof process!=="undefined"&&!!(typeof process.versions==="object"&&process.versions.node||process.pid),i||(b("./es5_object"),b("./es5_array"),b("./es5_date"),b("./es5_json")),b("./runtime_string"),b("./runtime_date"),typeof Array.prototype.unique!=="function"&&(Array.prototype.unique=function k(){var a,b,c,d;a=[],b=this.length;for(c=0;c<b;++c){for(d=c+1;d<b;++d)this[c]===this[d]&&(d=++c);a.push(this[c])}return a}),Object.defineProperty?j=function j(a,b,c){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,c=a.value,b=a.name,a=a.obj);return Object.defineProperty(a,b,{value:c,writable:!1,enumerable:!0,configurable:!1})}:j=function j(a,b,c){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,c=a.value,b=a.name,a=a.obj);return a[b]=c},j(a,"_MoveKWArgsT",d);try{e=b("util").inspect;if(typeof e!=="function")throw 1;a.inspect=e}catch(l){a.inspect=b("./runtime_inspect").inspect}typeof console!=="undefined"&&console.log?typeof window!=="undefined"?a.print=function f(){return console.log.apply(console,Array.prototype.slice.call(arguments))}:a.print=console.log:a.print=function f(){},a.repeat=g=function g(a){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,a=a.times);{if(typeof a!=="function")return function(b){typeof b==="object"&&b.__kw===d&&(arguments.keywords=b,b=b.block);var c;if(a!==undefined){for(c=0;c<a;++c)if(b(c)===!0)break}else while(!0)if(!b())break};while(!0)if(!a())break}},a.after=h=function h(a,b){typeof a==="object"&&a.__kw===d&&(arguments.keywords=a,b=a.date,a=a.delay);if(a){if(typeof a!=="number")throw new TypeError('"delay" argument must be a number')}else if(b){if(typeof b==="string"||typeof b==="number"){b=new Date(b);if(isNaN(b.getTime()))throw new Error('Invalid date/time passed for "date" argument')}else if(typeof b!=="object"||!(b instanceof Date))throw new TypeError('"date" argument must be a Date object or a string');a=Math.max(0,b.getTime()-(new Date).getTime())}return function(b){typeof b==="object"&&b.__kw===d&&(arguments.keywords=b,b=b.block);return setTimeout(b,a)}}})()}},modules.runtime_date=module={id:"runtime_date",exports:{},block:function(a,b,c,d,e){(function(){"use strict";var a,b,c,d,e,f;a=__move.runtime,b=a._MoveKWArgsT,c=a.inspect,d=a.print,e=a.repeat,f=a.after,Date.distantFuture===undefined&&(Date.distantFuture=new Date(359753450957352)),Date.distantPast===undefined&&(Date.distantPast=new Date(-621356868e5)),Date.nowUTC||(Date.nowUTC=function g(){return(new Date).getUTCTime()}),Date.prototype.getUTCTime||(Date.prototype.getUTCTime=function h(){return this.getTime()-Date.timezoneOffset()});if(!Date.prototype.getUTCComponents)return Date.prototype.getUTCComponents=function i(){return[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds(),this.getUTCMilliseconds()]}})()}},modules.runtime_inspect=module={id:"runtime_inspect",exports:{},block:function(a,b,c,d,e){function h(a){if(a instanceof Date)return!0;if(typeof a!=="object")return!1;var b=Date.prototype&&Object.getOwnPropertyNames(Date.prototype),c=a.__proto__&&Object.getOwnPropertyNames(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}function g(a){var b=""+a;return a instanceof RegExp||typeof a==="function"&&a.constructor.name==="RegExp"&&a.compile&&a.test&&a.exec&&b.match(/^\/.*\/[gim]{0,3}$/)}function f(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&f(a.prototype)}a.inspect=function(b,c,d,e){function k(b,d){if(b&&typeof b.inspect==="function"&&b!==a&&b.inspect!==a.inspect&&(!b.constructor||b.constructor.prototype!==b))return b.inspect(d);switch(typeof b){case"undefined":return j("undefined","undefined");case"string":var e=JSON.stringify(b).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");return j(e,"string");case"number":return j(""+b,"number");case"boolean":return j(""+b,"boolean")}if(b===null)return j("null","null");var l=Object.keys(b),m=c?Object.getOwnPropertyNames(b):l;if(typeof b==="function"&&m.length===0){if(g(b))return j(""+b,"regexp");var n=b.name?": "+b.name:"";return j("[Function"+n+"]","special")}if(h(b)&&m.length===0)return j(b.toUTCString(),"date");var o,p,q;f(b)?(p="Array",q=["[","]"]):(p="Object",q=["{","}"]);if(typeof b==="function"){var r=b.name?": "+b.name:"";o=g(b)?" "+b:" [Function"+r+"]"}else o="";h(b)&&(o=" "+b.toUTCString());if(m.length===0)return q[0]+o+q[1];if(d<0)return g(b)?j(""+b,"regexp"):j("[Object]","special");i.push(b);var s=m.map(function(a){var c,e;b.__lookupGetter__&&(b.__lookupGetter__(a)?b.__lookupSetter__(a)?e=j("[Getter/Setter]","special"):e=j("[Getter]","special"):b.__lookupSetter__(a)&&(e=j("[Setter]","special"))),l.indexOf(a)<0&&(c="["+a+"]"),e||(i.indexOf(b[a])<0?(d===null?e=k(b[a]):e=k(b[a],d-1),e.indexOf("\n")>-1&&(f(b)?e=e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):e="\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=j("[Circular]","special"));if(typeof c==="undefined"){if(p==="Array"&&a.match(/^\d+$/))return e;c=JSON.stringify(""+a),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=j(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=j(c,"string"))}return c+": "+e});i.pop();var t=0,u=s.reduce(function(a,b){t++,b.indexOf("\n")>=0&&t++;return a+b.length+1},0);u>50?s=q[0]+(o===""?"":o+"\n ")+" "+s.join(",\n  ")+" "+q[1]:s=q[0]+o+" "+s.join(", ")+" "+q[1];return s}var i=[],j=function(a,b){return a};return k(b,typeof d==="undefined"?2:d)}}},modules.runtime_string=module={id:"runtime_string",exports:{},block:function(a,b,c,d,e){String.prototype.repeat||(String.prototype.repeat=function f(a){s="";while(a--)s+=this;return s}),String.prototype.padLeft||(String.prototype.padLeft=function g(a,b){if(this.length>=a)return this;return String(b||" ").repeat(a-this.length)+this}),String.prototype.padRight||(String.prototype.padRight=function h(a,b){if(this.length>=a)return this;return this+String(b||" ").repeat(a-this.length)}),String.prototype.editDistance||(String.prototype.editDistance=function i(a){var b,c=(b=this.split("")).length,d=(a=a.split("")).length,e,f,g,h;if(!c&&!d)return Math.max(c,d);for(var i=[],e=c+1;e;i[--e]=[e]);for(e=d+1;i[0][--e]=e;);for(e=-1,g=b.length;++e<g;)for(f=-1,h=a.length;++f<h;)i[(e*=1)+1][(f*=1)+1]=Math.min(i[e][f+1]+1,i[e+1][f]+1,i[e][f]+(b[e]!=a[f]));return i[c][d]})}},modules["squeeze-more"]=module={id:"squeeze-more",exports:{},block:function(a,b,c,d,e){function l(a){var b=g.ast_walker(),c=b.walk;return b.with_walkers({call:function(a,b){if(a[0]=="dot"&&a[2]=="toString"&&b.length==0)return["binary","+",a[1],["string",""]]}},function(){return c(a)})}var f=b("./parser"),g=b("./process"),h=f.slice,i=f.member,j=f.PRECEDENCE,k=f.OPERATORS;a.ast_squeeze_more=l}},modules.util=module={id:"util",exports:{},block:function(a,b,c,d,e){a.array_to_hash=function(a){var b={};for(var c=0;c<a.length;++c)b[a[c]]=!0;return b},a.words_to_hash=function(a){return array_to_hash(a.split(" "))},a.string_to_charset=function(a){return array_to_hash(a.split("").map(function(a){return a.charCodeAt(0)}))},a.is_alphanumeric_char=function(a){return a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122},a.is_digit_char=function(a){return a>=48&&a<=57},a.HOP=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.is_substr_eq=function(a,b,c){var d=c.length;while(--d!==-1)if(a.charCodeAt(b+d)!==c.charCodeAt(d))return!1;return!0}}};var move=require("index");move.runtime.require=require,move.onScriptLoaded=function onScriptLoaded(a,b,c){if(a)throw a;Function(b)()},move.scriptCompilationOptions={};var runScripts=function runScripts(){var a,b,c,d,e,f=move.scriptCompilationOptions;d=document.getElementsByTagName("script");for(b=0,c=d.length;b<c;++b){a=d[b];if(a&&a.type==="text/move")if(a.src)f.filename=a.src,move.compileURL(a.src,f,function(b,c){move.onScriptLoaded(b,c,a)});else try{f.filename="<script>",e=move.compile(a.innerHTML,f),move.onScriptLoaded(null,e,a)}catch(g){move.onScriptLoaded(g,a)}}return null};window.addEventListener?addEventListener("DOMContentLoaded",runScripts,!1):attachEvent("onload",runScripts);return move}()